define("viewport/settings",{topPadding:0,bottomPadding:0,checkTimeout:100,onScrollThrottle:10,onResizeDebounce:100,eventNamespace:".viewport",initialiseOnBinding:!0,hasInitialised:!1,hasBoundEvents:!1}),define("viewport/utils",["jquery","./settings"],function(e,t){var n=function(){return window.pageXOffset!==undefined?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft},r=function(){return window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},i=function(){return window.innerWidth},s=function(){var e=window.innerHeight;return t.topPadding!==0&&(e-=t.topPadding),t.bottomPadding!==0&&(e-=t.bottomPadding),e},o=function(n){n.jquery||(n=e(n));var r=n.offset();return t.topPadding&&(r.top-=t.topPadding),r.bottom=r.top+n.outerHeight(),r.right=r.left+n.outerWidth(),r},u=function(){var e=n(),t=r(),o=i(),u=s();return{top:t,bottom:t+u,left:e,right:e+o,width:o,height:u}},a=function(){var t=e(document);return{height:t.height(),width:t.width()}};return{scrollX:n,scrollY:r,width:i,height:s,offsetOf:o,position:u,document:a}}),define("viewport/bindings",["lodash","./settings","./utils"],function(e,t,n){var r=[];return r.get=function(n){return e.find(r,function(e){return e.element===n})},r.set=function(i,s,o,u){var a=r.get(i);return u=u||{},a||(a={element:i,bindings:{},position:n.offsetOf(i),state:{},checkTimeout:t.checkTimeout,lastCheckedAt:-Infinity},r.push(a)),u.checkTimeout!==undefined&&(a.checkTimeout=u.checkTimeout),a.bindings[s]||(a.bindings[s]=[]),a.bindings[s].push({binding:o,once:u.once||!1}),a},r.clean=function(){e.each(r,function(t){e.each(t.bindings,function(e,n){e.length||delete t.bindings[n]}),e.keys(t.bindings).length===0&&e.remove(r,t)})},r.remove=function(n,i,s){var o=r.get(n),u=!1;if(o){if(s){if(e.has(o.bindings,i)){var a=e.remove(o.bindings[i],function(e){return e.binding===s});a.length&&(u=!0)}}else i?e.has(o.bindings,i)&&(delete o.bindings[i],u=!0):(e.remove(r,o),u=!0);r.clean()}return u},r.trigger=function(n,i,s){var o=r.get(n);if(o&&e.has(o.bindings,i)){var u=o.bindings[i];s&&(u=e.filter(u,function(e){return e.binding===s})),e.each(u,function(t){var s=t.binding;t.once&&r.remove(n,i,s),s({position:e.clone(o.position),element:n})});if(u.length)return!0}return!1},r}),define("viewport/conditions",["./utils","./bindings"],function(e,t){var n={},r=function s(r,i,o){if(i[0]==="!")return!s(r,i.slice(1),o);if(n[i]===undefined)throw new Error("Undefined condition: "+i);o=o||{},o.position=o.position||e.offsetOf(r),o.viewport=o.viewport||e.position();if(!o.state){var u=t.get(r);u?o.state=u.state:o.state={}}return n[i](r,o)},i=function(t,r){if(!!n[t])throw new Error('A condition has already been defined with the name "'+t+'"');n[t]=r};return i("above",function(e,t){return t.position.bottom<t.viewport.top}),i("below",function(e,t){return t.position.top>t.viewport.bottom}),i("inside",function(e,t){return!r(e,"above",t)&&!r(e,"below",t)}),i("intersectingTop",function(e,t){return t.position.top<=t.viewport.top&&t.position.bottom>=t.viewport.top}),i("intersectingMiddle",function(e,t){var n=t.viewport.top+t.viewport.height/2;return t.position.top<=n&&t.position.bottom>=n}),i("intersectingBottom",function(e,t){return t.position.top<=t.viewport.bottom&&t.position.bottom>=t.viewport.bottom}),i("contained",function(e,t){return t.position.top>=t.viewport.top&&t.position.bottom<=t.viewport.bottom}),i("enter",function(e,t){var n=t.state;if(r(e,"inside",t)){if(!n.inViewport)return n.inViewport=!0,!0}else n.inViewport=!1;return!1}),i("exit",function(e,t){var n=t.state;if(r(e,"!inside",t)){if(n.inViewport===!0||n.inViewport===undefined)return n.inViewport=!1,!0}else n.inViewport=!0;return!1}),{is:r,defineCondition:i,conditions:n}}),define("viewport/check",["lodash","./bindings","./conditions","./settings","./utils"],function(e,t,n,r,i){return function(s){var o=t;if(s&&e.isElement(s)){var u=t.get(s);if(!u)return;o=[u]}var a=e.now(),f=i.position();e(o).filter(function(e){return e.lastCheckedAt+e.checkTimeout<=a}).each(function(r){r.lastCheckedAt=a;var i=e.keys(r.bindings),s=r.element,o={position:r.position,viewport:f,state:r.state};e.each(i,function(e){n.is(s,e,o)&&t.trigger(s,e)})})}}),define("viewport/off",["./bindings"],function(e){return function(n,r){return e.remove(n,r)}}),define("viewport/update",["lodash","./bindings","./utils"],function(e,t,n){var r=function(e){e.position=n.offsetOf(e.element)};return function(i){i?r(t.get(i)):e.each(t,r)}}),define("viewport/start",["jquery","lodash","./check","./settings","./update"],function(e,t,n,r,i){var s=function(){n()},o=function(){i(),n()};return s=t.throttle(s,r.onScrollThrottle),o=t.debounce(o,r.onResizeDebounce),function(){r.hasBoundEvents||(e(window).on("scroll"+r.eventNamespace,s),e(window).on("resize"+r.eventNamespace,o),r.hasBoundEvents=!0)}}),define("viewport/init",["./check","./settings","./start","./update"],function(e,t,n,r){return function(){r(),e(),n(),t.hasInitialised=!0}}),define("viewport/on",["./bindings","./init","./settings"],function(e,t,n){return function(i,s,o,u){if(_.contains([i,s,o],undefined))throw new Error("Missing argument(s) supplied.");var a=e.set(i,s,o,u);return n.initialiseOnBinding&&!n.hasInitialised&&t(),a}}),define("viewport/once",["./on"],function(e){return function(n,r,i,s){return s=s||{},s.once=!0,e(n,r,i,s)}}),define("viewport/stop",["jquery","./settings"],function(e,t){return function(){e(window).off("scroll"+t.eventNamespace),e(window).off("resize"+t.eventNamespace),t.hasBoundEvents=!1}}),define("viewport",["lodash","viewport/bindings","viewport/check","viewport/off","viewport/on","viewport/once","viewport/conditions","viewport/settings","viewport/start","viewport/stop","viewport/update","viewport/utils"],function(e,t,n,r,i,s,o,u,a,f,l,c){return e.assign({bindings:t,check:n,off:r,on:i,once:s,settings:u,start:a,stop:f,update:l},o,c)});